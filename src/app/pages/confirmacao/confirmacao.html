<section class="wpo-page-title">
    <div class="container">
        <div class="row">
            <div class="col col-xs-12">
                <div class="wpo-breadcumb-wrap">
                    <h2>R.S.V.P</h2>
                    <ol class="wpo-breadcumb-wrap">
                        <li><a href="../../../index.html">Home</a></li>
                        <li>RSVP</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="wpo-contact-section-s6 section-padding" id="rsvp">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col col-lg-12 col-md-12 col-12">
                <div class="wpo-contact-section-wrapper">
                    <div class="wpo-contact-section-inner">
                        <div class="wpo-contact-form-area">
                            @if (success()) {
                                <div class="success-message">
                                    <h2>Confirmação Enviada com Sucesso!</h2>
                                    <p>Obrigado por confirmar sua presença. Você será redirecionado para a página inicial em breve.</p>
                                </div>
                            } @else {
                                <div class="wpo-section-title">
                                    <h2>Comparecerá</h2>
                                    <h5>Olá {{ (convite | async)?.nomeConvite }} pode marcar quem irá no casamento</h5>
                                </div>
                                <form method="post" class="contact-validation-active" id="contact-form-main">
                                    @for (convidado of convidados(); track convidado.id) {
                                        <div>
                                            <app-checkbox
                                                [(ngModel)]="convidado.selecionado" name="confirmacao"
                                                label={{convidado.nome}} required></app-checkbox>

                                        </div>
                                    }
                                    <div class="submit-area">
                                        <button
                                            type="button" (click)="confirmarPresenca()"
                                            class="theme-btn">Confirmar
                                        </button>
                                        <div id="c-loader">
                                            <i class="ti-reload"></i>
                                        </div>
                                    </div>
                                    @if (errorMessage()) {
                                        <div class="error-message">{{ errorMessage() }}</div>
                                    }
                                </form>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="left-img"><img src="../../../assets/images/img-1.jpg" alt=""></div>
    <div class="right-img"><img src="../../../assets/images/img-2.jpg" alt=""></div>
</section>
<section class="wpo-contact-map-section">
    <h2 class="hidden">Contact map</h2>
    <div class="wpo-contact-map">
        <iframe
            src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d7318.78563834488!2d-46.995526311195306!3d-23.482356550722553!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sbr!4v1761783079362!5m2!1sen!2sbr"
            allowfullscreen
            referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
</section>
@if (showConfirm()) {
    <div class="confirm-modal">
        <div class="modal-overlay" (click)="onConfirmNo()"></div>
        <div class="modal-content">
            <h3>Confirmação</h3>
            <p>Você não selecionou nenhum convidado. Deseja continuar sem confirmar presença?</p>
            <div class="modal-buttons">
                <button class="btn-no" (click)="onConfirmNo()">Não</button>
                <button class="btn-yes" (click)="onConfirmYes()">Sim</button>
            </div>
        </div>
    </div>
}
<app-footer></app-footer>
